var mapLink=document.querySelector(".go-to-map");var modalMapWindow=document.querySelector(".modal-map-window");var closeMapWindow=document.querySelector(".button-map");var feedbackLink=document.querySelector(".feedback-link");var modalFeedbackForm=document.querySelector(".modal-feedback-form");var closeFeedbackForm=document.querySelector(".button-feedback");var perforatorBuy=document.querySelector(".perforator-buy");var modalCart=document.querySelector(".modal-cart-wrapper");var closeModalCart=document.querySelector(".button-map");var userFullname=modalFeedbackForm.querySelector("[name=fullname]");var userEmail=modalFeedbackForm.querySelector("[name=email]");var userMessage=modalFeedbackForm.querySelector("textarea");var form=modalFeedbackForm.querySelector(".form-feedback");var localStorageFullname=localStorage.getItem("userFullname");var perforatorBuy=document.querySelector(".perforator-buy");var modalCart=document.querySelector(".modal-cart");var closeModalCart=document.querySelector(".button-feedback");var isStorageSupport=true;var localStorageFullname="";try{localStorageFullname=localStorage.getItem("userFullname")}catch(err){isStorageSupport=false}mapLink.addEventListener("click",function(a){a.preventDefault();modalMapWindow.classList.add("modal-show")});closeMapWindow.addEventListener("click",function(a){a.preventDefault();modalMapWindow.classList.remove("modal-show")});feedbackLink.addEventListener("click",function(a){a.preventDefault();modalFeedbackForm.classList.add("modal-show");if(localStorageFullname){userFullname.value=localStorageFullname;userEmail.focus()}else{userFullnam.focus()}if(localStorageFullname){userFullname.value=localStorageFullname}});closeFeedbackForm.addEventListener("click",function(a){a.preventDefault();modalFeedbackForm.classList.remove("modal-show")});form.addEventListener("submit",function(a){a.preventDefault();if(!userFullname.value||!userEmail.value||!userMessage.value){a.preventDefault();modalFeedbackForm.classList.add("modal-error")}else{if(isStorageSupport){localStorage.setItem("userFullname",userFullname.value)}}});window.addEventListener("keydown",function(a){if(a.keyCode===27){if(modalFeedbackForm.classList.contains("modal-show")||modalMapWindow.classList.contains("modal-show")){a.preventDefault();modalFeedbackForm.classList.remove("modal-show");modalMapWindow.classList.remove("modal-show")}}});perforatorBuy.addEventListener("click",function(a){a.preventDefault();modalCart.classList.add("modal-show")});closeModalCart.addEventListener("click",function(a){a.preventDefault();modalCart.classList.remove("modal-show")});window.addEventListener("keydown",function(a){if(a.keyCode===27){if(modalCart.classList.contains("modal-show")){a.preventDefault();modalCart.classList.remove("modal-show")}}});
