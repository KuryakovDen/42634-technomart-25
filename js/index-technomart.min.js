var mapLink=document.querySelector(".go-to-map"),modalMapWindow=document.querySelector(".modal-map-window"),closeMapWindow=document.querySelector(".button-map"),feedbackLink=document.querySelector(".feedback-link"),modalFeedbackForm=document.querySelector(".modal-feedback-form"),closeFeedbackForm=document.querySelector(".button-feedback"),perforatorBuy=document.querySelector(".perforator-buy"),modalCart=document.querySelector(".modal-cart-wrapper"),closeModalCart=document.querySelector(".button-map"),userFullname=modalFeedbackForm.querySelector("[name=fullname]"),userEmail=modalFeedbackForm.querySelector("[name=email]"),userMessage=modalFeedbackForm.querySelector("textarea"),form=modalFeedbackForm.querySelector(".form-feedback"),localStorageFullname=localStorage.getItem("userFullname"),isStorageSupport=!0;localStorageFullname="";try{localStorageFullname=localStorage.getItem("userFullname")}catch(e){isStorageSupport=!1}mapLink.addEventListener("click",function(e){e.preventDefault(),modalMapWindow.classList.add("modal-show")}),closeMapWindow.addEventListener("click",function(e){e.preventDefault(),modalMapWindow.classList.remove("modal-show")}),feedbackLink.addEventListener("click",function(e){e.preventDefault(),modalFeedbackForm.classList.add("modal-show"),localStorageFullname?(userFullname.value=localStorageFullname,userEmail.focus()):userFullnam.focus(),localStorageFullname&&(userFullname.value=localStorageFullname)}),closeFeedbackForm.addEventListener("click",function(e){e.preventDefault(),modalFeedbackForm.classList.remove("modal-show")}),form.addEventListener("submit",function(e){e.preventDefault(),userFullname.value&&userEmail.value&&userMessage.value?isStorageSupport&&localStorage.setItem("userFullname",userFullname.value):(e.preventDefault(),modalFeedbackForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedbackForm.classList.contains("modal-show")||modalMapWindow.classList.contains("modal-show"))&&(e.preventDefault(),modalFeedbackForm.classList.remove("modal-show"),modalMapWindow.classList.remove("modal-show"))});
